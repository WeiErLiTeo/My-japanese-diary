<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥è¯­å­¦ä¹ æ—¥è®° | æ¯æ—¥è®°å½•</title>
    <!-- åŠ è½½ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥è‡ªå®šä¹‰æ ·å¼å’ŒåŠ¨ç”» -->
    <style>
        /* (æ ·å¼è¡¨...ä¸ä¹‹å‰ç›¸åŒï¼Œæœªä½œä¿®æ”¹) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', 'Noto Sans JP', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(120deg, #1e0033, #3f004a, #1a0b38);
            background-size: 200% 200%;
            animation: gradientBG 20s ease infinite;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .glass-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.2);
        }
        .tab-button.active {
            color: white;
            background-color: #8B5CF6;
        }
        .form-input {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        .form-input:focus {
            background: rgba(0, 0, 0, 0.3);
            border-color: #8B5CF6;
            box-shadow: 0 0 0 2px #8B5CF6;
        }
        .btn-gradient {
            background-image: linear-gradient(to right, #8B5CF6 0%, #EC4899 51%, #8B5CF6 100%);
            background-size: 200% auto;
            transition: 0.5s;
        }
        .btn-gradient:hover {
            background-position: right center;
        }
        .btn-gradient:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-image: none;
            background-color: #374151;
        }
        
        /* ã€ä¿®æ”¹ã€‘åˆ é™¤æŒ‰é’®çš„æ¸å˜ï¼ˆçº¢è‰²ç³»ï¼‰ */
        .btn-gradient-delete {
            background-image: linear-gradient(to right, #EF4444 0%, #EC4899 51%, #EF4444 100%);
            background-size: 200% auto;
            transition: 0.5s;
        }
        .btn-gradient-delete:hover {
            background-position: right center;
        }
        .btn-gradient-delete:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-image: none;
            background-color: #374151;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .summary-card {
            animation: fadeIn 0.5s ease-out forwards;
        }
        .loader {
            width: 48px;
            height: 48px;
            border: 3px solid #FFF;
            border-bottom-color: #8B5CF6;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-100 min-h-screen p-4 md:p-8">

    <!-- (é¡µé¢æ ‡é¢˜...ä¸ä¹‹å‰ç›¸åŒ) -->
    <header class="text-center mb-10">
        <h1 class="text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">
            ğŸŒ¸ æˆ‘çš„æ—¥è¯­å­¦ä¹ æ—¥è®° ğŸŒ¸
        </h1>
        <p class="text-lg text-gray-300 mt-2">æ—¥ã€…ã®è¨˜éŒ²ã€æœªæ¥ã¸ã®æŠ•è³‡ã€‚</p>
    </header>

    <main class="max-w-4xl mx-auto">
        <!-- (æ ‡ç­¾é¡µåˆ‡æ¢...ä¸ä¹‹å‰ç›¸åŒ) -->
        <div class="flex justify-center mb-8 bg-gray-800/50 rounded-lg p-1 max-w-sm mx-auto">
            <button id="tab-view" class="tab-button active w-1/2 py-2 px-4 rounded-md font-medium transition-all duration-300">æŸ¥çœ‹æ€»ç»“</button>
            <button id="tab-submit" class="tab-button w-1/2 py-2 px-4 rounded-md font-medium text-gray-400 transition-all duration-300">æäº¤æ–°æ€»ç»“</button>
        </div>

        <!-- 3. å†…å®¹åŒºåŸŸ -->
        <div>
            <!-- 3.1 æŸ¥çœ‹æ€»ç»“ (é»˜è®¤æ˜¾ç¤º) -->
            <section id="section-view">
                <div id="delete-message" class="text-center mb-4"></div>
                
                <div id="loading-spinner" class="text-center py-10">
                    <div class="loader mx-auto"></div>
                    <p class="mt-4 text-gray-400">æ­£åœ¨åŠ è½½æ—¥è®°...</p>
                </div>
                <div id="summary-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- (å¡ç‰‡ç¤ºä¾‹...ä¸ä¹‹å‰ç›¸åŒ) -->
                </div>
                <p id="no-summaries" class="hidden text-center text-gray-400 py-10">è¿˜æ²¡æœ‰æ—¥è®°å“¦ï¼Œå¿«å»â€œæäº¤æ–°æ€»ç»“â€å§ï¼</p>
            </section>

            <!-- 3.2 æäº¤æ€»ç»“ (é»˜è®¤éšè—) -->
            <section id="section-submit" class="hidden">
                <div class="glass-card rounded-xl p-6 md:p-10 shadow-lg max-w-lg mx-auto">
                    <form id="summary-form">
                        <h2 class="text-2xl font-semibold text-center mb-6">ğŸ“ è®°å½•ä»Šæ—¥æ‰€å­¦</h2>
                        
                        <div class="mb-5">
                            <label for="admin-password" class="block text-sm font-medium text-gray-300 mb-2">ğŸ”‘ ç®¡ç†å‘˜å¯†ç </label>
                            <input type="password" id="admin-password" class="form-input w-full rounded-lg p-3 text-gray-100" placeholder="è¯·è¾“å…¥æ‚¨çš„å®‰å…¨å¯†ç " required>
                             <!-- ã€ä¿®æ”¹ã€‘å¯†ç æç¤ºæ–‡å­—å·²æ›´æ”¹ -->
                            <p class="text-xs text-gray-400 mt-1">ï¼ˆæäº¤æ—¥è®°æ—¶éœ€è¦ï¼‰</p>
                        </div>
                        
                        <div class="mb-6">
                            <label for="summary-content" class="block text-sm font-medium text-gray-300 mb-2">ğŸ“– å­¦ä¹ å†…å®¹</label>
                            <textarea id="summary-content" rows="6" class="form-input w-full rounded-lg p-3 text-gray-100" placeholder="ä¾‹å¦‚ï¼šä»Šå¤©å­¦ä¹ äº†... æŒæ¡äº†... é‡åˆ°çš„é—®é¢˜æ˜¯..." required></textarea>
                        </div>
                        
                        <button type="submit" id="submit-button" class="btn-gradient w-full text-white font-bold py-3 px-6 rounded-lg text-lg">
                            <span>æäº¤æ€»ç»“</span>
                        </button>
                        
                        <div id="form-message" class="mt-4 text-center"></div>
                    </form>
                </div>
            </section>
        </div>
    </main>

    <!-- ã€æ–°å¢ã€‘åˆ é™¤ç¡®è®¤æ¨¡æ€æ¡† -->
    <div id="delete-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <!-- 1. é®ç½©å±‚ -->
        <div id="modal-overlay" class="absolute inset-0 bg-black/70 backdrop-blur-sm"></div>
        
        <!-- 2. æ¨¡æ€æ¡†å†…å®¹ -->
        <div class_name="glass-card rounded-xl p-6 md:p-8 shadow-lg max-w-sm w-full z-10" style="animation: fadeIn 0.3s ease-out forwards;">
            <h3 class="text-2xl font-semibold text-center mb-5">ğŸ—‘ï¸ ç¡®è®¤åˆ é™¤</h3>
            <p class="text-gray-300 text-center mb-6">æ‚¨ç¡®å®šè¦åˆ é™¤è¿™æ¡æ—¥è®°å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚</p>
            
            <div class="mb-5">
                <label for="delete-password" class="block text-sm font-medium text-gray-300 mb-2">ğŸ”‘ ç®¡ç†å‘˜å¯†ç </label>
                <input type="password" id="delete-password" class="form-input w-full rounded-lg p-3 text-gray-100" placeholder="è¯·è¾“å…¥å¯†ç ä»¥ç¡®è®¤åˆ é™¤" required>
            </div>
            
            <div id="modal-message" class="mt-4 text-center text-red-400 h-6"></div>
            
            <div class="flex gap-4 mt-6">
                <button id="modal-cancel-btn" class="w-1/2 py-3 px-4 rounded-lg font-medium text-gray-300 bg-gray-700/60 hover:bg-gray-600/60 transition-colors">
                    å–æ¶ˆ
                </button>
                <button id="modal-confirm-btn" class="btn-gradient-delete w-1/2 text-white font-bold py-3 px-4 rounded-lg text-lg">
                    <span>ç¡®è®¤åˆ é™¤</span>
                </button>
            </div>
        </div>
    </div>


    <footer class="text-center text-gray-500 mt-16 pb-8">
        <p>&copy; 2025 ç”± Gemini å¼ºåŠ›é©±åŠ¨</p>
    </footer>

    <!-- 4. æ ¸å¿ƒ JavaScript é€»è¾‘ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- è·å–å…ƒç´  ---
            const tabView = document.getElementById('tab-view');
            const tabSubmit = document.getElementById('tab-submit');
            const sectionView = document.getElementById('section-view');
            const sectionSubmit = document.getElementById('section-submit');
            
            const summaryForm = document.getElementById('summary-form');
            const submitButton = document.getElementById('submit-button');
            const formMessage = document.getElementById('form-message');
            const passwordInput = document.getElementById('admin-password');
            const contentInput = document.getElementById('summary-content');
            
            const summaryGrid = document.getElementById('summary-grid');
            const loadingSpinner = document.getElementById('loading-spinner');
            const noSummaries = document.getElementById('no-summaries');
            const deleteMessage = document.getElementById('delete-message');

            // --- ã€æ–°å¢ã€‘è·å–æ¨¡æ€æ¡†å…ƒç´  ---
            const deleteModal = document.getElementById('delete-modal');
            const modalOverlay = document.getElementById('modal-overlay');
            const modalCancelBtn = document.getElementById('modal-cancel-btn');
            const modalConfirmBtn = document.getElementById('modal-confirm-btn');
            const modalPasswordInput = document.getElementById('delete-password');
            const modalMessage = document.getElementById('modal-message');

            // --- ã€æ–°å¢ã€‘ç”¨äºå­˜å‚¨å¾…åˆ é™¤ä¿¡æ¯çš„å˜é‡ ---
            let entryIdToDelete = null;
            let cardElementToDelete = null;

            const trashIconSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4H2.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
            </svg>`;

            // --- æ ‡ç­¾é¡µåˆ‡æ¢é€»è¾‘ ---
            function showViewSection() {
                sectionView.classList.remove('hidden');
                sectionSubmit.classList.add('hidden');
                tabView.classList.add('active', 'text-white');
                tabSubmit.classList.remove('active', 'text-white');
                tabSubmit.classList.add('text-gray-400');
                loadSummaries();
            }
            
            function showSubmitSection() {
                sectionView.classList.add('hidden');
                sectionSubmit.classList.remove('hidden');
                tabView.classList.remove('active', 'text-white');
                tabView.classList.add('text-gray-400');
                tabSubmit.classList.add('active', 'text-white');
            }

            tabView.addEventListener('click', showViewSection);
            tabSubmit.addEventListener('click', showSubmitSection);

            // --- ã€æ–°å¢ã€‘æ¨¡æ€æ¡†æ§åˆ¶å‡½æ•° ---
            function openDeleteModal(entryId, cardElement) {
                entryIdToDelete = entryId;
                cardElementToDelete = cardElement;
                deleteModal.classList.remove('hidden');
                // è‡ªåŠ¨èšç„¦åˆ°å¯†ç è¾“å…¥æ¡†
                setTimeout(() => modalPasswordInput.focus(), 50); 
            }

            function closeDeleteModal() {
                deleteModal.classList.add('hidden');
                modalPasswordInput.value = ''; // æ¸…ç©ºå¯†ç 
                modalMessage.textContent = ''; // æ¸…ç©ºé”™è¯¯æ¶ˆæ¯
                entryIdToDelete = null;
                cardElementToDelete = null;
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                modalConfirmBtn.disabled = false;
                modalConfirmBtn.innerHTML = '<span>ç¡®è®¤åˆ é™¤</span>';
            }

            // ã€æ–°å¢ã€‘æ¨¡æ€æ¡†æŒ‰é’®äº‹ä»¶
            modalOverlay.addEventListener('click', closeDeleteModal);
            modalCancelBtn.addEventListener('click', closeDeleteModal);

            // --- (åŠ è½½æ€»ç»“é€»è¾‘...ä¸ä¹‹å‰ç›¸åŒ) ---
            async function loadSummaries() {
                loadingSpinner.classList.remove('hidden');
                summaryGrid.innerHTML = ''; 
                noSummaries.classList.add('hidden');
                deleteMessage.textContent = ''; 

                // (æœ¬åœ°é¢„è§ˆæ¨¡æ‹Ÿ...)
                if (window.location.protocol.startsWith('blob') || window.location.protocol === 'file:') {
                    console.log("æœ¬åœ°é¢„è§ˆæ¨¡å¼ï¼šæ­£åœ¨åŠ è½½æ¨¡æ‹Ÿæ•°æ®...");
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    const mockSummaries = [
                        { date: new Date().toISOString(), summary: "ã€æ¨¡æ‹Ÿæ•°æ®ã€‘...", gemini_response: "..." },
                        { date: new Date(Date.now() - 86400000).toISOString(), summary: "ã€æ¨¡æ‹Ÿæ•°æ®ã€‘...", gemini_response: "..." }
                    ];
                    if (mockSummaries.length === 0) { noSummaries.classList.remove('hidden'); } 
                    else { mockSummaries.forEach(item => { createCard(item); }); }
                    loadingSpinner.classList.add('hidden');
                    return; 
                }
                
                // (çœŸå®çš„ Netlify Fetch...)
                try {
                    const response = await fetch('/.netlify/functions/getSummaries');
                    if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); }
                    const summaries = await response.json();
                    if (summaries.length === 0) { noSummaries.classList.remove('hidden'); } 
                    else {
                        summaries.sort((a, b) => new Date(b.date) - new Date(a.date));
                        summaries.forEach(item => { createCard(item); });
                    }
                } catch (error) {
                    console.error('åŠ è½½æ€»ç»“å¤±è´¥:', error);
                    noSummaries.textContent = 'âŒ åŠ è½½æ—¥è®°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚';
                    noSummaries.classList.remove('hidden');
                } finally {
                    loadingSpinner.classList.add('hidden');
                }
            }

            // ã€æ–°å¢ã€‘åˆ›å»ºå¡ç‰‡çš„è¾…åŠ©å‡½æ•°
            function createCard(item) {
                const card = document.createElement('div');
                card.className = 'summary-card glass-card rounded-xl p-6 shadow-lg relative';
                const formattedDate = new Date(item.date).toLocaleString('zh-CN', { 
                    year: 'numeric', month: 'long', day: 'numeric',
                    hour: 'numeric', minute: 'numeric'
                });
                card.innerHTML = `
                    <button class="delete-btn absolute top-3 right-3 text-gray-500 hover:text-red-400 transition-colors z-10" data-id="${item.date}" title="åˆ é™¤æ­¤æ¡ç›®">
                        ${trashIconSvg}
                    </button>
                    <p class="text-sm text-gray-400 mb-2">${formattedDate}</p>
                    <p class="text-gray-100 whitespace-pre-line">${item.summary}</p>
                    ${item.gemini_response ? `<p class="mt-4 text-sm text-purple-300 border-l-2 border-purple-400 pl-3">ğŸ¤– è€å¸ˆç‚¹è¯„ï¼š${item.gemini_response}</p>` : ''}
                `;
                summaryGrid.appendChild(card);
            }

            // --- (è¡¨å•æäº¤é€»è¾‘...ä¸ä¹‹å‰ç›¸åŒ) ---
            summaryForm.addEventListener('submit', async (e) => {
                e.preventDefault(); 
                const password = passwordInput.value;
                const summary = contentInput.value;
                
                submitButton.disabled = true;
                submitButton.innerHTML = `<span class="loader" style="width:24px; height:24px; border-width: 2px;"></span>`;
                formMessage.textContent = '';
                formMessage.className = 'mt-4 text-center';

                // (æœ¬åœ°é¢„è§ˆæ¨¡æ‹Ÿ...)
                if (window.location.protocol.startsWith('blob') || window.location.protocol === 'file:') {
                    console.log("æœ¬åœ°é¢„è§ˆæ¨¡å¼ï¼šæ­£åœ¨æ¨¡æ‹Ÿæäº¤...");
                    await new Promise(resolve => setTimeout(resolve, 1500)); 
                    formMessage.textContent = 'ğŸ‰ ã€æ¨¡æ‹Ÿã€‘æäº¤æˆåŠŸï¼';
                    formMessage.classList.add('text-green-400');
                    contentInput.value = ''; 
                    setTimeout(() => { showViewSection(); formMessage.textContent = ''; }, 2000);
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<span>æäº¤æ€»ç»“</span>';
                    return;
                }

                // (çœŸå®çš„ Netlify Fetch...)
                try {
                    const response = await fetch('/.netlify/functions/submitSummary', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ password, summary })
                    });
                    const result = await response.json();
                    if (!response.ok) { throw new Error(result.error || 'æäº¤å¤±è´¥'); }
                    
                    formMessage.textContent = 'ğŸ‰ æäº¤æˆåŠŸï¼å·²ç”Ÿæˆ AI ç‚¹è¯„ã€‚';
                    formMessage.classList.add('text-green-400');
                    contentInput.value = ''; 
                    setTimeout(() => { showViewSection(); formMessage.textContent = ''; }, 2000);
                } catch (error) {
                    console.error('æäº¤å¤±è´¥:', error);
                    formMessage.textContent = `âŒ å¤±è´¥: ${error.message}`;
                    formMessage.classList.add('text-red-400');
                } finally {
                    submitButton.disabled = false;
                    submitButton.innerHTML = '<span>æäº¤æ€»ç»“</span>';
                }
            });

            // --- ã€ä¿®æ”¹ã€‘åˆ é™¤æŒ‰é’®äº‹ä»¶å§”æ‰˜ ---
            summaryGrid.addEventListener('click', (e) => {
                const deleteButton = e.target.closest('.delete-btn');
                if (!deleteButton) return;

                const entryId = deleteButton.dataset.id;
                const card = deleteButton.closest('.summary-card');
                
                // æ‰“å¼€æ¨¡æ€æ¡†ï¼Œè€Œä¸æ˜¯ç«‹å³åˆ é™¤
                openDeleteModal(entryId, card);
            });

            // --- ã€æ–°å¢ã€‘æ¨¡æ€æ¡†ç¡®è®¤åˆ é™¤é€»è¾‘ ---
            modalConfirmBtn.addEventListener('click', async () => {
                const password = modalPasswordInput.value;
                
                if (!password) {
                    modalMessage.textContent = 'è¯·è¾“å…¥å¯†ç ';
                    return;
                }
                
                if (!entryIdToDelete || !cardElementToDelete) return;

                // ç¦ç”¨æŒ‰é’®å¹¶æ˜¾ç¤ºåŠ è½½
                modalConfirmBtn.disabled = true;
                modalConfirmBtn.innerHTML = `<span class="loader" style="width:24px; height:24px; border-width: 2px;"></span>`;
                modalMessage.textContent = '';

                try {
                    // --- æœ¬åœ°é¢„è§ˆæ¨¡æ‹Ÿ ---
                    if (window.location.protocol.startsWith('blob') || window.location.protocol === 'file:') {
                        console.log(`æœ¬åœ°é¢„è§ˆï¼šæ¨¡æ‹Ÿåˆ é™¤ ID: ${entryIdToDelete}`);
                        await new Promise(resolve => setTimeout(resolve, 1000));
                        // if (password !== '123') throw new Error("æ¨¡æ‹Ÿå¯†ç é”™è¯¯"); // æµ‹è¯•å¤±è´¥
                    } else {
                    // --- çœŸå®çš„ Netlify Fetch ---
                        const response = await fetch('/.netlify/functions/deleteSummary', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ id: entryIdToDelete, password: password })
                        });
                        const result = await response.json();
                        if (!response.ok) {
                            throw new Error(result.error || 'åˆ é™¤å¤±è´¥');
                        }
                    }

                    // --- åˆ é™¤æˆåŠŸ ---
                    deleteMessage.textContent = 'âœ… åˆ é™¤æˆåŠŸï¼';
                    deleteMessage.className = 'text-center text-green-400 mb-4';

                    // æ·»åŠ ç§»é™¤åŠ¨ç”»
                    cardElementToDelete.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out';
                    cardElementToDelete.style.opacity = '0';
                    cardElementToDelete.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        cardElementToDelete.remove();
                        if (summaryGrid.children.length === 0) {
                            noSummaries.classList.remove('hidden');
                        }
                    }, 300);

                    closeDeleteModal(); // å…³é—­æ¨¡æ€æ¡†

                } catch (error) {
                    // --- åˆ é™¤å¤±è´¥ ---
                    console.error('åˆ é™¤å¤±è´¥:', error);
                    // åœ¨æ¨¡æ€æ¡†å†…éƒ¨æ˜¾ç¤ºé”™è¯¯
                    modalMessage.textContent = `âŒ å¤±è´¥: ${error.message}`;
                    // æ¢å¤æŒ‰é’®ï¼Œä»¥ä¾¿é‡è¯•
                    modalConfirmBtn.disabled = false;
                    modalConfirmBtn.innerHTML = '<span>ç¡®è®¤åˆ é™¤</span>';
                }
                
                // 3ç§’åæ¸…é™¤ "æŸ¥çœ‹" è§†å›¾ä¸­çš„æ¶ˆæ¯
                setTimeout(() => {
                    deleteMessage.textContent = '';
                }, 3000);
            });

            // --- åˆå§‹åŠ è½½ ---
            loadSummaries();
        });
    </script>
</body>
</html>